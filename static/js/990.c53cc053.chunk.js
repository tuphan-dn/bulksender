(globalThis.webpackChunkbulk_sender=globalThis.webpackChunkbulk_sender||[]).push([[990,85],{13380:(t,e,r)=>{"use strict";const{base58btc:n}=r(43019),{base32:i}=r(79357),a=r(17578),{Multiaddr:o}=r(10006),s=r(44021),{CID:c}=r(32743),{URL:u}=r(41094),{toString:l}=r(93314),f=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,h=/^\/(ip[fn]s)\/([^/?#]+)/,d=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,p=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function g(t){try{return"string"===typeof t?Boolean(c.parse(t)):t instanceof Uint8Array?Boolean(c.decode(t)):Boolean(c.asCID(t))}catch(e){return!1}}function y(t){if(!t)return!1;if(o.isMultiaddr(t))return!0;try{return new o(t),!0}catch(e){return!1}}function m(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const i=w(t);if(!i)return!1;const a=i.match(e);if(!a)return!1;if("ipfs"!==a[r])return!1;let o=a[n];return o&&e===d&&(o=o.toLowerCase()),g(o)}function v(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const i=w(t);if(!i)return!1;const a=i.match(e);if(!a)return!1;if("ipns"!==a[r])return!1;let o=a[n];if(o&&e===d){if(o=o.toLowerCase(),g(o))return!0;try{!o.includes(".")&&o.includes("-")&&(o=o.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));const{hostname:t}=new u(`http://${o}`);return p.test(t)}catch(s){return!1}}return!0}function b(t){return"string"===typeof t}function w(t){return t instanceof Uint8Array?l(t,"base58btc"):!!b(t)&&t}const S=t=>m(t,d,2,1),x=t=>v(t,d,2,1),E=t=>S(t)||x(t),O=t=>m(t,f)||S(t),_=t=>v(t,f)||x(t),N=t=>O(t)||_(t)||E(t),A=t=>m(t,h)||v(t,h);t.exports={multihash:function(t){const e=w(t);try{a.decode(n.decode("z"+e))}catch{return!1}return!0},multiaddr:y,peerMultiaddr:function(t){return y(t)&&s.P2P.matches(t)},cid:g,base32cid:t=>function(t){try{i.decode(t)}catch{return!1}return!0}(t)&&g(t),ipfsSubdomain:S,ipnsSubdomain:x,subdomain:E,subdomainGatewayPattern:d,ipfsUrl:O,ipnsUrl:_,url:N,pathGatewayPattern:f,ipfsPath:t=>m(t,h),ipnsPath:t=>v(t,h),path:A,pathPattern:h,urlOrPath:t=>N(t)||A(t),cidPath:t=>b(t)&&!g(t)&&m(`/ipfs/${t}`,h)}},93663:t=>{"use strict";t.exports=async function*(t,e){for await(const r of t)await e(r)&&(yield r)}},60191:t=>{"use strict";t.exports=async function*(t,e){for await(const r of t)yield e(r)}},92393:(t,e,r)=>{"use strict";const n=r(31730);t.exports=async function*(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const i=n();setTimeout((async()=>{try{await Promise.all(e.map((async t=>{for await(const e of t)i.push(e)}))),i.end()}catch(t){i.end(t)}}),0),yield*i}},89962:t=>{const e=function(){let t;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(;r.length;)t=r.shift()(t);return t},r=t=>t&&("function"===typeof t[Symbol.asyncIterator]||"function"===typeof t[Symbol.iterator]||"function"===typeof t.next),n=t=>t&&"function"===typeof t.sink&&r(t.source),i=t=>e=>(t.sink(e),t.source),a=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if(n(a[0])){const t=a[0];a[0]=()=>t.source}else if(r(a[0])){const t=a[0];a[0]=()=>t}if(a.length>1&&n(a[a.length-1])&&(a[a.length-1]=a[a.length-1].sink),a.length>2)for(let e=1;e<a.length-1;e++)n(a[e])&&(a[e]=i(a[e]));return e(...a)};t.exports=a,t.exports.pipe=a,t.exports.rawPipe=e,t.exports.isIterable=r,t.exports.isDuplex=n},62550:t=>{"use strict";t.exports=async function*(t,e){let r=0;if(!(e<1))for await(const n of t)if(yield n,r++,r===e)return}},63573:(t,e,r)=>{"use strict";const n=r(87141),i=r(95700),a=r(15504),o={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};t.exports=function(t,e,r,s,c){const u=o[c];if(!u){const t=Object.keys(o).join(" / ");throw a(new Error(`Hash '${c}' is unknown or not supported. Must be ${t}`),"ERR_UNSUPPORTED_HASH_TYPE")}const l=n(t,e,r,s,u);return i.encode64(l)}},76796:(t,e,r)=>{"use strict";const n=r(62731),i=r(15504);t.exports=function(t){if(isNaN(t)||t<=0)throw i(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return n(t)}},16200:t=>{t.exports=function t(e,r,n){function i(o,s){if(!r[o]){if(!e[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var a=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){!function(t){"use strict";var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,a=Math.ceil,o=Math.floor,s="[BigNumber Error] ",c=s+"Number primitive has more than 15 significant digits: ",u=1e14,l=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,p=1e9;function g(t){var e=0|t;return 0<t||t===e?e:e-1}function y(t){for(var e,r,n=1,i=t.length,a=t[0]+"";n<i;){for(e=t[n++]+"",r=l-e.length;r--;e="0"+e);a+=e}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function m(t,e){var r,n,i=t.c,a=e.c,o=t.s,s=e.s,c=t.e,u=e.e;if(!o||!s)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=c==u,!i||!a)return n?0:!i^r?1:-1;if(!n)return u<c^r?1:-1;for(s=(c=i.length)<(u=a.length)?c:u,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^r?1:-1;return c==u?0:u<c^r?1:-1}function v(t,e,r,n){if(t<e||r<t||t!==o(t))throw Error(s+(n||"Argument")+("number"==typeof t?t<e||r<t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function b(t){var e=t.c.length-1;return g(t.e/l)==e&&t.c[e]%2!=0}function w(t,e){return(1<t.length?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function S(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(r=function t(e){var r,x,E,O,_,N,A,k,D,M,B,F=G.prototype={constructor:G,toString:null,valueOf:null},P=new G(1),L=20,T=4,R=-7,j=21,U=-1e7,I=1e7,C=!1,$=1,q=0,K={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},W="0123456789abcdefghijklmnopqrstuvwxyz";function G(t,e){var r,i,a,s,u,h,d,p,g=this;if(!(g instanceof G))return new G(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>I?g.c=g.e=null:t.e<U?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(s=0,u=t;10<=u;u/=10,s++);return void(I<s?g.c=g.e=null:(g.e=s,g.c=[t]))}p=String(t)}else{if(!n.test(p=String(t)))return E(g,p,h);g.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}-1<(s=p.indexOf("."))&&(p=p.replace(".","")),0<(u=p.search(/e/i))?(s<0&&(s=u),s+=+p.slice(u+1),p=p.substring(0,u)):s<0&&(s=p.length)}else{if(v(e,2,W.length,"Base"),10==e)return Q(g=new G(t),L+g.e+1,T);if(p=String(t),h="number"==typeof t){if(0*t!=0)return E(g,p,h,e);if(g.s=1/t<0?(p=p.slice(1),-1):1,G.DEBUG&&15<p.replace(/^0\.0*|\./,"").length)throw Error(c+t)}else g.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(r=W.slice(0,e),s=u=0,d=p.length;u<d;u++)if(r.indexOf(i=p.charAt(u))<0){if("."==i){if(s<u){s=d;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,u=-1,s=0;continue}return E(g,String(t),h,e)}h=!1,-1<(s=(p=x(p,e,10,g.s)).indexOf("."))?p=p.replace(".",""):s=p.length}for(u=0;48===p.charCodeAt(u);u++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(u,++d)){if(d-=u,h&&G.DEBUG&&15<d&&(f<t||t!==o(t)))throw Error(c+g.s*t);if((s=s-u-1)>I)g.c=g.e=null;else if(s<U)g.c=[g.e=0];else{if(g.e=s,g.c=[],u=(s+1)%l,s<0&&(u+=l),u<d){for(u&&g.c.push(+p.slice(0,u)),d-=l;u<d;)g.c.push(+p.slice(u,u+=l));u=l-(p=p.slice(u)).length}else u-=d;for(;u--;p+="0");g.c.push(+p)}}else g.c=[g.e=0]}function V(t,e,r,n){for(var i,a,o=[0],s=0,c=t.length;s<c;){for(a=o.length;a--;o[a]*=e);for(o[0]+=n.indexOf(t.charAt(s++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}function z(t,e,r){var n,i,a,o,s=0,c=t.length,u=e%d,l=e/d|0;for(t=t.slice();c--;)s=((i=u*(a=t[c]%d)+(n=l*a+(o=t[c]/d|0)*u)%d*d+s)/r|0)+(n/d|0)+l*o,t[c]=i%r;return s&&(t=[s].concat(t)),t}function H(t,e,r,n){var i,a;if(r!=n)a=n<r?1:-1;else for(i=a=0;i<r;i++)if(t[i]!=e[i]){a=t[i]>e[i]?1:-1;break}return a}function Z(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&1<t.length;t.splice(0,1));}function Y(t,e,r,n){var i,a,o,s,c;if(null==r?r=T:v(r,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)c=y(t.c),c=1==n||2==n&&(o<=R||j<=o)?w(c,o):S(c,o,"0");else if(a=(t=Q(new G(t),e,r)).e,s=(c=y(t.c)).length,1==n||2==n&&(e<=a||a<=R)){for(;s<e;c+="0",s++);c=w(c,a)}else if(e-=o,c=S(c,a,"0"),s<a+1){if(0<--e)for(c+=".";e--;c+="0");}else if(0<(e+=a-s))for(a+1==s&&(c+=".");e--;c+="0");return t.s<0&&i?"-"+c:c}function X(t,e){for(var r,n=1,i=new G(t[0]);n<t.length;n++){if(!(r=new G(t[n])).s){i=r;break}e.call(i,r)&&(i=r)}return i}function J(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];10<=i;i/=10,n++);return(r=n+r*l-1)>I?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function Q(t,e,r,n){var i,s,c,f,d,p,g,y=t.c,m=h;if(y){t:{for(i=1,f=y[0];10<=f;f/=10,i++);if((s=e-i)<0)s+=l,c=e,g=(d=y[p=0])/m[i-c-1]%10|0;else if((p=a((s+1)/l))>=y.length){if(!n)break t;for(;y.length<=p;y.push(0));d=g=0,c=(s%=l)-l+(i=1)}else{for(d=f=y[p],i=1;10<=f;f/=10,i++);g=(c=(s%=l)-l+i)<0?0:d/m[i-c-1]%10|0}if(n=n||e<0||null!=y[p+1]||(c<0?d:d%m[i-c-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):5<g||5==g&&(4==r||n||6==r&&(0<s?0<c?d/m[i-c]:0:y[p-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=m[(l-e%l)%l],t.e=-e||0):y[0]=t.e=0,t;if(0==s?(y.length=p,f=1,p--):(y.length=p+1,f=m[l-s],y[p]=0<c?o(d/m[i-c]%m[c])*f:0),n)for(;;){if(0==p){for(s=1,c=y[0];10<=c;c/=10,s++);for(c=y[0]+=f,f=1;10<=c;c/=10,f++);s!=f&&(t.e++,y[0]==u&&(y[0]=1));break}if(y[p]+=f,y[p]!=u)break;y[p--]=0,f=1}for(s=y.length;0===y[--s];y.pop());}t.e>I?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}function tt(t){var e,r=t.e;return null===r?t.toString():(e=y(t.c),e=r<=R||j<=r?w(e,r):S(e,r,"0"),t.s<0?"-"+e:e)}return G.clone=t,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(s+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(v(r=t[e],0,p,e),L=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(v(r=t[e],0,8,e),T=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(v(r[0],-p,0,e),v(r[1],0,p,e),R=r[0],j=r[1]):(v(r,-p,p,e),R=-(j=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)v(r[0],-p,-1,e),v(r[1],1,p,e),U=r[0],I=r[1];else{if(v(r,-p,p,e),!r)throw Error(s+e+" cannot be zero: "+r);U=-(I=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(s+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw C=!r,Error(s+"crypto unavailable");C=r}else C=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(v(r=t[e],0,9,e),$=r),t.hasOwnProperty(e="POW_PRECISION")&&(v(r=t[e],0,p,e),q=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(s+e+" not an object: "+r);K=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(s+e+" invalid: "+r);W=r}}return{DECIMAL_PLACES:L,ROUNDING_MODE:T,EXPONENTIAL_AT:[R,j],RANGE:[U,I],CRYPTO:C,MODULO_MODE:$,POW_PRECISION:q,FORMAT:K,ALPHABET:W}},G.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!G.DEBUG)return!0;var e,r,n=t.c,i=t.e,a=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&-p<=i&&i<=p&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%l)<1&&(e+=l),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||u<=r||r!==o(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+t)},G.maximum=G.max=function(){return X(arguments,F.lt)},G.minimum=G.min=function(){return X(arguments,F.gt)},G.random=(O=9007199254740992,_=Math.random()*O&2097151?function(){return o(Math.random()*O)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,c,u=0,f=[],d=new G(P);if(null==t?t=L:v(t,0,p),i=a(t/l),C)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)9e15<=(c=131072*e[u]+(e[u+1]>>>11))?(r=crypto.getRandomValues(new Uint32Array(2)),e[u]=r[0],e[u+1]=r[1]):(f.push(c%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw C=!1,Error(s+"crypto unavailable");for(e=crypto.randomBytes(i*=7);u<i;)9e15<=(c=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])?crypto.randomBytes(7).copy(e,u):(f.push(c%1e14),u+=7);u=i/7}if(!C)for(;u<i;)(c=_())<9e15&&(f[u++]=c%1e14);for(i=f[--u],t%=l,i&&t&&(c=h[l-t],f[u]=o(i/c)*c);0===f[u];f.pop(),u--);if(u<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=l);for(u=1,c=f[0];10<=c;c/=10,u++);u<l&&(n-=l-u)}return d.e=n,d.c=f,d}),G.sum=function(){for(var t=1,e=arguments,r=new G(e[0]);t<e.length;)r=r.plus(e[t++]);return r},N="0123456789",x=function(t,e,n,i,a){var o,s,c,u,l,f,h,d,p=t.indexOf("."),g=L,m=T;for(0<=p&&(u=q,q=0,t=t.replace(".",""),f=(d=new G(e)).pow(t.length-p),q=u,d.c=V(S(y(f.c),f.e,"0"),10,n,N),d.e=d.c.length),c=u=(h=V(t,e,n,a?(o=W,N):(o=N,W))).length;0==h[--u];h.pop());if(!h[0])return o.charAt(0);if(p<0?--c:(f.c=h,f.e=c,f.s=i,h=(f=r(f,d,g,m,n)).c,l=f.r,c=f.e),p=h[s=c+g+1],u=n/2,l=l||s<0||null!=h[s+1],l=m<4?(null!=p||l)&&(0==m||m==(f.s<0?3:2)):u<p||p==u&&(4==m||l||6==m&&1&h[s-1]||m==(f.s<0?8:7)),s<1||!h[0])t=l?S(o.charAt(1),-g,o.charAt(0)):o.charAt(0);else{if(h.length=s,l)for(--n;++h[--s]>n;)h[s]=0,s||(++c,h=[1].concat(h));for(u=h.length;!h[--u];);for(p=0,t="";p<=u;t+=o.charAt(h[p++]));t=S(t,c,o.charAt(0))}return t},r=function(t,e,r,n,i){var a,s,c,f,h,d,p,y,m,v,b,w,S,x,E,O,_,N=t.s==e.s?1:-1,A=t.c,k=e.c;if(!(A&&A[0]&&k&&k[0]))return new G(t.s&&e.s&&(A?!k||A[0]!=k[0]:k)?A&&0==A[0]||!k?0*N:N/0:NaN);for(m=(y=new G(N)).c=[],N=r+(s=t.e-e.e)+1,i||(i=u,s=g(t.e/l)-g(e.e/l),N=N/l|0),c=0;k[c]==(A[c]||0);c++);if(k[c]>(A[c]||0)&&s--,N<0)m.push(1),f=!0;else{for(x=A.length,O=k.length,N+=2,1<(h=o(i/(k[c=0]+1)))&&(k=z(k,h,i),A=z(A,h,i),O=k.length,x=A.length),S=O,b=(v=A.slice(0,O)).length;b<O;v[b++]=0);_=k.slice(),_=[0].concat(_),E=k[0],k[1]>=i/2&&E++;do{if(h=0,(a=H(k,v,O,b))<0){if(w=v[0],O!=b&&(w=w*i+(v[1]||0)),1<(h=o(w/E)))for(i<=h&&(h=i-1),p=(d=z(k,h,i)).length,b=v.length;1==H(d,v,p,b);)h--,Z(d,O<p?_:k,p,i),p=d.length,a=1;else 0==h&&(a=h=1),p=(d=k.slice()).length;if(p<b&&(d=[0].concat(d)),Z(v,d,b,i),b=v.length,-1==a)for(;H(k,v,O,b)<1;)h++,Z(v,O<b?_:k,b,i),b=v.length}else 0===a&&(h++,v=[0]);m[c++]=h,v[0]?v[b++]=A[S]||0:(v=[A[S]],b=1)}while((S++<x||null!=v[0])&&N--);f=null!=v[0],m[0]||m.splice(0,1)}if(i==u){for(c=1,N=m[0];10<=N;N/=10,c++);Q(y,r+(y.e=c+s*l-1)+1,n,f)}else y.e=s,y.r=+f;return y},A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,D=/^\.([^.]+)$/,M=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(t,e,r,n){var i,a=r?e:e.replace(B,"");if(M.test(a))t.s=isNaN(a)?null:a<0?-1:1;else{if(!r&&(a=a.replace(A,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,a=a.replace(k,"$1").replace(D,"0.$1")),e!=a))return new G(a,i);if(G.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},F.absoluteValue=F.abs=function(){var t=new G(this);return t.s<0&&(t.s=1),t},F.comparedTo=function(t,e){return m(this,new G(t,e))},F.decimalPlaces=F.dp=function(t,e){var r,n,i;if(null!=t)return v(t,0,p),null==e?e=T:v(e,0,8),Q(new G(this),t+this.e+1,e);if(!(r=this.c))return null;if(n=((i=r.length-1)-g(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},F.dividedBy=F.div=function(t,e){return r(this,new G(t,e),L,T)},F.dividedToIntegerBy=F.idiv=function(t,e){return r(this,new G(t,e),0,1)},F.exponentiatedBy=F.pow=function(t,e){var r,n,i,c,u,f,h,d,p=this;if((t=new G(t)).c&&!t.isInteger())throw Error(s+"Exponent not an integer: "+tt(t));if(null!=e&&(e=new G(e)),u=14<t.e,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return d=new G(Math.pow(+tt(p),u?2-b(t):+tt(t))),e?d.mod(e):d;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new G(NaN);(n=!f&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(9<t.e&&(0<p.e||p.e<-1||(0==p.e?1<p.c[0]||u&&24e7<=p.c[1]:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return c=p.s<0&&b(t)?-0:0,-1<p.e&&(c=1/c),new G(f?1/c:c);q&&(c=a(q/l+2))}for(h=u?(r=new G(.5),f&&(t.s=1),b(t)):(i=Math.abs(+tt(t)))%2,d=new G(P);;){if(h){if(!(d=d.times(p)).c)break;c?d.c.length>c&&(d.c.length=c):n&&(d=d.mod(e))}if(i){if(0===(i=o(i/2)))break;h=i%2}else if(Q(t=t.times(r),t.e+1,1),14<t.e)h=b(t);else{if(0==(i=+tt(t)))break;h=i%2}p=p.times(p),c?p.c&&p.c.length>c&&(p.c.length=c):n&&(p=p.mod(e))}return n?d:(f&&(d=P.div(d)),e?d.mod(e):c?Q(d,q,T,void 0):d)},F.integerValue=function(t){var e=new G(this);return null==t?t=T:v(t,0,8),Q(e,e.e+1,t)},F.isEqualTo=F.eq=function(t,e){return 0===m(this,new G(t,e))},F.isFinite=function(){return!!this.c},F.isGreaterThan=F.gt=function(t,e){return 0<m(this,new G(t,e))},F.isGreaterThanOrEqualTo=F.gte=function(t,e){return 1===(e=m(this,new G(t,e)))||0===e},F.isInteger=function(){return!!this.c&&g(this.e/l)>this.c.length-2},F.isLessThan=F.lt=function(t,e){return m(this,new G(t,e))<0},F.isLessThanOrEqualTo=F.lte=function(t,e){return-1===(e=m(this,new G(t,e)))||0===e},F.isNaN=function(){return!this.s},F.isNegative=function(){return this.s<0},F.isPositive=function(){return 0<this.s},F.isZero=function(){return!!this.c&&0==this.c[0]},F.minus=function(t,e){var r,n,i,a,o=this,s=o.s;if(e=(t=new G(t,e)).s,!s||!e)return new G(NaN);if(s!=e)return t.s=-e,o.plus(t);var c=o.e/l,f=t.e/l,h=o.c,d=t.c;if(!c||!f){if(!h||!d)return h?(t.s=-e,t):new G(d?o:NaN);if(!h[0]||!d[0])return d[0]?(t.s=-e,t):new G(h[0]?o:3==T?-0:0)}if(c=g(c),f=g(f),h=h.slice(),s=c-f){for((i=(a=s<0)?(s=-s,h):(f=c,d)).reverse(),e=s;e--;i.push(0));i.reverse()}else for(n=(a=(s=h.length)<(e=d.length))?s:e,s=e=0;e<n;e++)if(h[e]!=d[e]){a=h[e]<d[e];break}if(a&&(i=h,h=d,d=i,t.s=-t.s),0<(e=(n=d.length)-(r=h.length)))for(;e--;h[r++]=0);for(e=u-1;s<n;){if(h[--n]<d[n]){for(r=n;r&&!h[--r];h[r]=e);--h[r],h[n]+=u}h[n]-=d[n]}for(;0==h[0];h.splice(0,1),--f);return h[0]?J(t,h,f):(t.s=3==T?-1:1,t.c=[t.e=0],t)},F.modulo=F.mod=function(t,e){var n,i,a=this;return t=new G(t,e),!a.c||!t.s||t.c&&!t.c[0]?new G(NaN):!t.c||a.c&&!a.c[0]?new G(a):(9==$?(i=t.s,t.s=1,n=r(a,t,0,3),t.s=i,n.s*=i):n=r(a,t,0,$),(t=a.minus(n.times(t))).c[0]||1!=$||(t.s=a.s),t)},F.multipliedBy=F.times=function(t,e){var r,n,i,a,o,s,c,f,h,p,y,m,v,b,w,S=this,x=S.c,E=(t=new G(t,e)).c;if(!(x&&E&&x[0]&&E[0]))return!S.s||!t.s||x&&!x[0]&&!E||E&&!E[0]&&!x?t.c=t.e=t.s=null:(t.s*=S.s,x&&E?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=g(S.e/l)+g(t.e/l),t.s*=S.s,(c=x.length)<(p=E.length)&&(v=x,x=E,E=v,i=c,c=p,p=i),i=c+p,v=[];i--;v.push(0));for(b=u,w=d,i=p;0<=--i;){for(r=0,y=E[i]%w,m=E[i]/w|0,a=i+(o=c);i<a;)r=((f=y*(f=x[--o]%w)+(s=m*f+(h=x[o]/w|0)*y)%w*w+v[a]+r)/b|0)+(s/w|0)+m*h,v[a--]=f%b;v[a]=r}return r?++n:v.splice(0,1),J(t,v,n)},F.negated=function(){var t=new G(this);return t.s=-t.s||null,t},F.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new G(t,e)).s,!i||!e)return new G(NaN);if(i!=e)return t.s=-e,n.minus(t);var a=n.e/l,o=t.e/l,s=n.c,c=t.c;if(!a||!o){if(!s||!c)return new G(i/0);if(!s[0]||!c[0])return c[0]?t:new G(s[0]?n:0*i)}if(a=g(a),o=g(o),s=s.slice(),i=a-o){for((r=0<i?(o=a,c):(i=-i,s)).reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(e=c.length)<0&&(r=c,c=s,s=r,e=i),i=0;e;)i=(s[--e]=s[e]+c[e]+i)/u|0,s[e]=u===s[e]?0:s[e]%u;return i&&(s=[i].concat(s),++o),J(t,s,o)},F.precision=F.sd=function(t,e){var r,n,i;if(null!=t&&t!==!!t)return v(t,1,p),null==e?e=T:v(e,0,8),Q(new G(this),t,e);if(!(r=this.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];10<=i;i/=10,n++);}return t&&this.e+1>n&&(n=this.e+1),n},F.shiftedBy=function(t){return v(t,-f,f),this.times("1e"+t)},F.squareRoot=F.sqrt=function(){var t,e,n,i,a,o=this,s=o.c,c=o.s,u=o.e,l=L+4,f=new G("0.5");if(1!==c||!s||!s[0])return new G(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);if((n=0==(c=Math.sqrt(+tt(o)))||c==1/0?(((e=y(s)).length+u)%2==0&&(e+="0"),c=Math.sqrt(+e),u=g((u+1)/2)-(u<0||u%2),new G(e=c==1/0?"1e"+u:(e=c.toExponential()).slice(0,e.indexOf("e")+1)+u)):new G(c+"")).c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(a=n,n=f.times(a.plus(r(o,a,l,1))),y(a.c).slice(0,c)===(e=y(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(e=e.slice(c-3,c+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Q(n,n.e+L+2,1),t=!n.times(n).eq(o));break}if(!i&&(Q(a,a.e+L+2,0),a.times(a).eq(o))){n=a;break}l+=4,c+=4,i=1}return Q(n,n.e+L+1,T,t)},F.toExponential=function(t,e){return null!=t&&(v(t,0,p),t++),Y(this,t,e,1)},F.toFixed=function(t,e){return null!=t&&(v(t,0,p),t=t+this.e+1),Y(this,t,e)},F.toFormat=function(t,e,r){var n;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=K;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=this.toFixed(t,e),this.c){var i,a=n.split("."),o=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",l=a[0],f=a[1],h=this.s<0,d=h?l.slice(1):l,p=d.length;if(c&&(i=o,o=c,p-=c=i),0<o&&0<p){for(i=p%o||o,l=d.substr(0,i);i<p;i+=o)l+=u+d.substr(i,o);0<c&&(l+=u+d.slice(i)),h&&(l="-"+l)}n=f?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):l}return(r.prefix||"")+n+(r.suffix||"")},F.toFraction=function(t){var e,n,i,a,o,c,u,f,d,p,g,m,v=this,b=v.c;if(null!=t&&(!(u=new G(t)).isInteger()&&(u.c||1!==u.s)||u.lt(P)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+tt(u));if(!b)return new G(v);for(e=new G(P),d=n=new G(P),i=f=new G(P),m=y(b),o=e.e=m.length-v.e-1,e.c[0]=h[(c=o%l)<0?l+c:c],t=!t||0<u.comparedTo(e)?0<o?e:d:u,c=I,I=1/0,u=new G(m),f.c[0]=0;p=r(u,e,0,1),1!=(a=n.plus(p.times(i))).comparedTo(t);)n=i,i=a,d=f.plus(p.times(a=d)),f=a,e=u.minus(p.times(a=e)),u=a;return a=r(t.minus(n),i,0,1),f=f.plus(a.times(d)),n=n.plus(a.times(i)),f.s=d.s=v.s,g=r(d,i,o*=2,T).minus(v).abs().comparedTo(r(f,n,o,T).minus(v).abs())<1?[d,i]:[f,n],I=c,g},F.toNumber=function(){return+tt(this)},F.toPrecision=function(t,e){return null!=t&&v(t,1,p),Y(this,t,e,2)},F.toString=function(t){var e,r=this,n=r.s,i=r.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=null==t?i<=R||j<=i?w(y(r.c),i):S(y(r.c),i,"0"):10===t?S(y((r=Q(new G(r),L+i+1,T)).c),r.e,"0"):(v(t,2,W.length,"Base"),x(S(y(r.c),i,"0"),10,t,n,!0)),n<0&&r.c[0]&&(e="-"+e)),e},F.valueOf=F.toJSON=function(){return tt(this)},F._isBigNumber=!0,i&&(F[Symbol.toStringTag]="BigNumber",F[Symbol.for("nodejs.util.inspect.custom")]=F.valueOf),null!=e&&G.set(e),G}()).default=r.BigNumber=r,void 0!==e&&e.exports?e.exports=r:(t=t||("undefined"!=typeof self&&self?self:window)).BigNumber=r}(this)},{}],2:[function(t,e,r){"use strict";e.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=t("./globalState"),a=t("./validating"),o=t("./parsing"),s=t("bignumber.js"),c={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},u={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},l=i.currentBytes(),f=l.binarySuffixes,h=l.decimalSuffixes,d={general:{scale:1024,suffixes:h,marker:"bd"},binary:{scale:1024,suffixes:f,marker:"b"},decimal:{scale:1e3,suffixes:h,marker:"d"}};function p(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if("string"==typeof e&&(e=o.parseFormat(e)),!a.validateFormat(e))return"ERROR: invalid format";var n=e.prefix||"",s=e.postfix||"",c=function(t,e,r){switch(e.output){case"currency":return function(t,e,r){var n=r.currentCurrency(),i=Object.assign({},e),a=Object.assign({},u,i),o=void 0,s="",c=!!a.totalLength||!!a.forceAverage||a.average,l=i.currencyPosition||n.position,f=i.currencySymbol||n.symbol,h=void 0!==a.spaceSeparatedCurrency?a.spaceSeparatedCurrency:a.spaceSeparated;void 0===i.lowPrecision&&(i.lowPrecision=!1),h&&(s=" "),"infix"===l&&(o=s+f+s);var d=b({instance:t,providedFormat:i,state:r,decimalSeparator:o});return"prefix"===l&&(d=t._value<0&&"sign"===a.negative?"-".concat(s).concat(f).concat(d.slice(1)):0<t._value&&a.forceSign?"+".concat(s).concat(f).concat(d.slice(1)):f+s+d),l&&"postfix"!==l||(d=d+(s=!a.spaceSeparatedAbbreviation&&c?"":s)+f),d}(t,e=w(e,i.currentCurrencyDefaultFormat()),i);case"percent":return function(t,e,r,n){var i=e.prefixSymbol,a=b({instance:n(100*t._value),providedFormat:e,state:r}),o=Object.assign({},u,e);return i?"%".concat(o.spaceSeparated?" ":"").concat(a):"".concat(a).concat(o.spaceSeparated?" ":"","%")}(t,e=w(e,i.currentPercentageDefaultFormat()),i,r);case"byte":return function(t,e,r,n){var i=e.base||"binary",a=Object.assign({},u,e),o=r.currentBytes(),s=o.binarySuffixes,c=o.decimalSuffixes,l={general:{scale:1024,suffixes:c||h,marker:"bd"},binary:{scale:1024,suffixes:s||f,marker:"b"},decimal:{scale:1e3,suffixes:c||h,marker:"d"}}[i],d=g(t._value,l.suffixes,l.scale),p=d.value,y=d.suffix,m=b({instance:n(p),providedFormat:e,state:r,defaults:r.currentByteDefaultFormat()});return"".concat(m).concat(a.spaceSeparated?" ":"").concat(y)}(t,e=w(e,i.currentByteDefaultFormat()),i,r);case"time":return e=w(e,i.currentTimeDefaultFormat()),function(t){var e=Math.floor(t._value/60/60),r=Math.floor((t._value-60*e*60)/60),n=Math.round(t._value-60*e*60-60*r);return"".concat(e,":").concat(r<10?"0":"").concat(r,":").concat(n<10?"0":"").concat(n)}(t);case"ordinal":return function(t,e,r){var n=r.currentOrdinal(),i=Object.assign({},u,e),a=b({instance:t,providedFormat:e,state:r}),o=n(t._value);return"".concat(a).concat(i.spaceSeparated?" ":"").concat(o)}(t,e=w(e,i.currentOrdinalDefaultFormat()),i);default:return b({instance:t,providedFormat:e,numbro:r})}}(t,e,r);return(c=n+c)+s}function g(t,e,r){var n=e[0],i=Math.abs(t);if(r<=i){for(var a=1;a<e.length;++a){var o=Math.pow(r,a),s=Math.pow(r,a+1);if(o<=i&&i<s){n=e[a],t/=o;break}}n===e[0]&&(t/=Math.pow(r,e.length-1),n=e[e.length-1])}return{value:t,suffix:n}}function y(t){for(var e="",r=0;r<t;r++)e+="0";return e}function m(t,e,r){var i=2<arguments.length&&void 0!==r?r:Math.round;return-1!==t.toString().indexOf("e")?function(t,e){var r=t.toString(),i=n(r.split("e"),2),a=i[0],o=i[1],s=n(a.split("."),2),c=s[0],u=s[1],l=void 0===u?"":u;if(0<+o)r=c+l+y(o-l.length);else{var f=".";f=+c<0?"-0".concat(f):"0".concat(f);var h=(y(-o-1)+Math.abs(c)+l).substr(0,e);h.length<e&&(h+=y(e-h.length)),r=f+h}return 0<+o&&0<e&&(r+=".".concat(y(e))),r}(t,e):new s(i(+"".concat(t,"e+").concat(e))/Math.pow(10,e)).toFixed(e)}function v(t,e,r,n,i){var a=n.currentDelimiters(),o=a.thousands;i=i||a.decimal;var s=a.thousandsSize||3,c=t.toString(),u=c.split(".")[0],l=c.split(".")[1],f=e<0&&0===u.indexOf("-");return r&&(f&&(u=u.slice(1)),function(t,e){for(var r=[],n=0,i=t;0<i;i--)n===e&&(r.unshift(i),n=0),n++;return r}(u.length,s).forEach((function(t,e){u=u.slice(0,t+e)+o+u.slice(t+e)})),f&&(u="-".concat(u))),l?u+i+l:u}function b(t){var e=t.instance,r=t.providedFormat,a=t.state,o=void 0===a?i:a,s=t.decimalSeparator,l=t.defaults,f=void 0===l?o.currentDefaults():l,h=e._value;if(0===h&&o.hasZeroFormat())return o.getZeroFormat();if(!isFinite(h))return h.toString();var d,p,g,y,b,w,S,x,E=Object.assign({},u,f,r),O=E.totalLength,_=O?0:E.characteristic,N=E.optionalCharacteristic,A=E.forceAverage,k=E.lowPrecision,D=!!O||!!A||E.average,M=O?-1:D&&void 0===r.mantissa?0:E.mantissa,B=!O&&(void 0===r.optionalMantissa?-1===M:E.optionalMantissa),F=E.trimMantissa,P=E.thousandSeparated,L=E.spaceSeparated,T=E.negative,R=E.forceSign,j=E.exponential,U=E.roundingFunction,I="";if(D){var C=function(t){var e=t.value,r=t.forceAverage,n=t.lowPrecision,i=void 0===n||n,a=t.abbreviations,o=t.spaceSeparated,s=void 0!==o&&o,u=t.totalLength,l=void 0===u?0:u,f=t.roundingFunction,h=void 0===f?Math.round:f,d="",p=Math.abs(e),g=-1;if(r&&a[r]&&c[r]?(d=a[r],e/=c[r]):p>=c.trillion||i&&1===h(p/c.trillion)?(d=a.trillion,e/=c.trillion):p<c.trillion&&p>=c.billion||i&&1===h(p/c.billion)?(d=a.billion,e/=c.billion):p<c.billion&&p>=c.million||i&&1===h(p/c.million)?(d=a.million,e/=c.million):(p<c.million&&p>=c.thousand||i&&1===h(p/c.thousand))&&(d=a.thousand,e/=c.thousand),d=d&&(s?" ":"")+d,l){var y=e<0,m=e.toString().split(".")[0],v=y?m.length-1:m.length;g=Math.max(l-v,0)}return{value:e,abbreviation:d,mantissaPrecision:g}}({value:h,forceAverage:A,lowPrecision:k,abbreviations:o.currentAbbreviations(),spaceSeparated:L,roundingFunction:U,totalLength:O});h=C.value,I+=C.abbreviation,O&&(M=C.mantissaPrecision)}if(j){var $=(p=(d={value:h,characteristicPrecision:_}).value,y=void 0===(g=d.characteristicPrecision)?0:g,w=(b=n(p.toExponential().split("e"),2))[0],S=b[1],x=+w,y&&1<y&&(x*=Math.pow(10,y-1),S=0<=(S-=y-1)?"+".concat(S):S),{value:x,abbreviation:"e".concat(S)});h=$.value,I=$.abbreviation+I}var q,K,W,G=function(t,e,r,i,a,o){if(-1===i)return t;var s=m(e,i,o),c=n(s.toString().split("."),2),u=c[0],l=c[1],f=void 0===l?"":l;if(f.match(/^0+$/)&&(r||a))return u;var h=f.match(/0+$/);return a&&h?"".concat(u,".").concat(f.toString().slice(0,h.index)):s.toString()}(h.toString(),h,B,M,F,U);return G=v(G=function(t,e,r,i){var a=t,o=n(a.toString().split("."),2),s=o[0],c=o[1];if(s.match(/^-?0$/)&&r)return c?"".concat(s.replace("0",""),".").concat(c):s.replace("0","");var u=e<0&&0===s.indexOf("-");if(u&&(s=s.slice(1),a=a.slice(1)),s.length<i)for(var l=i-s.length,f=0;f<l;f++)a="0".concat(a);return u&&(a="-".concat(a)),a.toString()}(G,h,N,_),h,P,o,s),(D||j)&&(G+=I),(R||h<0)&&(q=G,W=T,G=0===(K=h)?q:0==+q?q.replace("-",""):0<K?"+".concat(q):"sign"===W?q:"(".concat(q.replace("-",""),")")),G}function w(t,e){if(!t)return e;var r=Object.keys(t);return 1===r.length&&"output"===r[0]?e:t}e.exports=function(t){return{format:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return p.apply(void 0,r.concat([t]))},getByteUnit:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(t){var e=d.general;return g(t._value,e.suffixes,e.scale).suffix}.apply(void 0,r.concat([t]))},getBinaryByteUnit:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(t){var e=d.binary;return g(t._value,e.suffixes,e.scale).suffix}.apply(void 0,r.concat([t]))},getDecimalByteUnit:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(t){var e=d.decimal;return g(t._value,e.suffixes,e.scale).suffix}.apply(void 0,r.concat([t]))},formatOrDefault:w}}},{"./globalState":4,"./parsing":8,"./validating":10,"bignumber.js":1}],4:[function(t,e,r){"use strict";var n=t("./en-US"),i=t("./validating"),a=t("./parsing"),o={},s=void 0,c={},u=null,l={};function f(t){s=t}function h(){return c[s]}o.languages=function(){return Object.assign({},c)},o.currentLanguage=function(){return s},o.currentBytes=function(){return h().bytes||{}},o.currentCurrency=function(){return h().currency},o.currentAbbreviations=function(){return h().abbreviations},o.currentDelimiters=function(){return h().delimiters},o.currentOrdinal=function(){return h().ordinal},o.currentDefaults=function(){return Object.assign({},h().defaults,l)},o.currentOrdinalDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().ordinalFormat)},o.currentByteDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().byteFormat)},o.currentPercentageDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().percentageFormat)},o.currentCurrencyDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().currencyFormat)},o.currentTimeDefaultFormat=function(){return Object.assign({},o.currentDefaults(),h().timeFormat)},o.setDefaults=function(t){t=a.parseFormat(t),i.validateFormat(t)&&(l=t)},o.getZeroFormat=function(){return u},o.setZeroFormat=function(t){return u="string"==typeof t?t:null},o.hasZeroFormat=function(){return null!==u},o.languageData=function(t){if(t){if(c[t])return c[t];throw new Error('Unknown tag "'.concat(t,'"'))}return h()},o.registerLanguage=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!i.validateLanguage(t))throw new Error("Invalid language data");c[t.languageTag]=t,e&&f(t.languageTag)},o.setLanguage=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.languageTag;if(!c[t]){var r=t.split("-")[0],i=Object.keys(c).find((function(t){return t.split("-")[0]===r}));return c[i]?void f(i):void f(e)}f(t)},o.registerLanguage(n),s=n.languageTag,e.exports=o},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(t,e,r){"use strict";e.exports=function(e){return{loadLanguagesInNode:function(r){return n=e,void r.forEach((function(e){var r=void 0;try{r=t("../languages/".concat(e))}catch(r){console.error('Unable to load "'.concat(e,'". No matching language file found.'))}r&&n.registerLanguage(r)}));var n}}}},{}],6:[function(t,e,r){"use strict";var n=t("bignumber.js");function i(t,e,r){var i=new n(t._value),a=e;return r.isNumbro(e)&&(a=e._value),a=new n(a),t._value=i.minus(a).toNumber(),t}e.exports=function(t){return{add:function(e,r){return a=r,o=t,s=new n((i=e)._value),c=a,o.isNumbro(a)&&(c=a._value),c=new n(c),i._value=s.plus(c).toNumber(),i;var i,a,o,s,c},subtract:function(e,r){return i(e,r,t)},multiply:function(e,r){return a=r,o=t,s=new n((i=e)._value),c=a,o.isNumbro(a)&&(c=a._value),c=new n(c),i._value=s.times(c).toNumber(),i;var i,a,o,s,c},divide:function(e,r){return a=r,o=t,s=new n((i=e)._value),c=a,o.isNumbro(a)&&(c=a._value),c=new n(c),i._value=s.dividedBy(c).toNumber(),i;var i,a,o,s,c},set:function(e,r){return n=e,a=i=r,t.isNumbro(i)&&(a=i._value),n._value=a,n;var n,i,a},difference:function(e,r){return n=r,i(o=(a=t)(e._value),n,a),Math.abs(o._value);var n,a,o},BigNumber:n}}},{"bignumber.js":1}],7:[function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=t("./globalState"),a=t("./validating"),o=t("./loading")(d),s=t("./unformatting"),c=t("./formatting")(d),u=t("./manipulating")(d),l=t("./parsing"),f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._value=e}var e,r,a;return e=t,(r=[{key:"clone",value:function(){return d(this._value)}},{key:"format",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return c.format(this,e)}},{key:"formatCurrency",value:function(t){return"string"==typeof t&&(t=l.parseFormat(t)),(t=c.formatOrDefault(t,i.currentCurrencyDefaultFormat())).output="currency",c.format(this,t)}},{key:"formatTime",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return e.output="time",c.format(this,e)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(t){return u.difference(this,t)}},{key:"add",value:function(t){return u.add(this,t)}},{key:"subtract",value:function(t){return u.subtract(this,t)}},{key:"multiply",value:function(t){return u.multiply(this,t)}},{key:"divide",value:function(t){return u.divide(this,t)}},{key:"set",value:function(t){return u.set(this,h(t))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&n(e.prototype,r),a&&n(e,a),t}();function h(t){var e=t;return d.isNumbro(t)?e=t._value:"string"==typeof t?e=d.unformat(t):isNaN(t)&&(e=NaN),e}function d(t){return new f(h(t))}d.version="2.3.6",d.isNumbro=function(t){return t instanceof f},d.language=i.currentLanguage,d.registerLanguage=i.registerLanguage,d.setLanguage=i.setLanguage,d.languages=i.languages,d.languageData=i.languageData,d.zeroFormat=i.setZeroFormat,d.defaultFormat=i.currentDefaults,d.setDefaults=i.setDefaults,d.defaultCurrencyFormat=i.currentCurrencyDefaultFormat,d.validate=a.validate,d.loadLanguagesInNode=o.loadLanguagesInNode,d.unformat=s.unformat,d.BigNumber=u.BigNumber,e.exports=d},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(t,e,r){"use strict";e.exports={parseFormat:function(t){var e,r,n,i,a,o,s,c,u,l,f,h,d,p,g,y,m,v,b,w,S,x,E=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof t?t:(r=E,a=E,function(t,e){if(-1===t.indexOf("$")){if(-1===t.indexOf("%"))return-1!==t.indexOf("bd")?(e.output="byte",e.base="general"):-1!==t.indexOf("b")?(e.output="byte",e.base="binary"):-1!==t.indexOf("d")?(e.output="byte",e.base="decimal"):-1===t.indexOf(":")?-1!==t.indexOf("o")&&(e.output="ordinal"):e.output="time";e.output="percent"}else e.output="currency"}(t=(o=(i=t=(n=(e=t).match(/^{([^}]*)}/))?(r.prefix=n[1],e.slice(n[0].length)):e).match(/{([^}]*)}$/))?(a.postfix=o[1],i.slice(0,-o[0].length)):i,E),s=E,(c=t.match(/[1-9]+[0-9]*/))&&(s.totalLength=+c[0]),u=E,(l=t.split(".")[0].match(/0+/))&&(u.characteristic=l[0].length),function(t,e){if(-1!==t.indexOf(".")){var r=t.split(".")[0];e.optionalCharacteristic=-1===r.indexOf("0")}}(t,E),f=E,-1!==t.indexOf("a")&&(f.average=!0),d=E,-1!==(h=t).indexOf("K")?d.forceAverage="thousand":-1!==h.indexOf("M")?d.forceAverage="million":-1!==h.indexOf("B")?d.forceAverage="billion":-1!==h.indexOf("T")&&(d.forceAverage="trillion"),function(t,e){var r=t.split(".")[1];if(r){var n=r.match(/0+/);n&&(e.mantissa=n[0].length)}}(t,E),g=E,(p=t).match(/\[\.]/)?g.optionalMantissa=!0:p.match(/\./)&&(g.optionalMantissa=!1),y=E,(m=t.split(".")[1])&&(y.trimMantissa=-1!==m.indexOf("[")),v=E,-1!==t.indexOf(",")&&(v.thousandSeparated=!0),b=E,-1!==t.indexOf(" ")&&(b.spaceSeparated=!0,b.spaceSeparatedCurrency=!0,(b.average||b.forceAverage)&&(b.spaceSeparatedAbbreviation=!0)),S=E,(w=t).match(/^\+?\([^)]*\)$/)&&(S.negative="parenthesis"),w.match(/^\+?-/)&&(S.negative="sign"),x=E,t.match(/^\+/)&&(x.forceSign=!0),E)}}},{}],9:[function(t,e,r){"use strict";var n=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function i(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(t,e,r,a,o,s,c){var u=2<arguments.length&&void 0!==r?r:"",l=3<arguments.length?a:void 0,f=4<arguments.length?o:void 0,h=5<arguments.length?s:void 0,d=6<arguments.length?c:void 0;if(""!==t)return t===f?0:function t(e,r,a,o,s,c,u){var l=2<arguments.length&&void 0!==a?a:"",f=3<arguments.length?o:void 0,h=4<arguments.length?s:void 0,d=5<arguments.length?c:void 0,p=6<arguments.length?u:void 0;if(!isNaN(+e))return+e;var g="",y=e.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(y!==e)return-1*t(y,r,l,f,h,d,p);for(var m=0;m<n.length;m++){var v=n[m];if((g=e.replace(RegExp("([0-9 ])(".concat(v.key,")$")),"$1"))!==e)return t(g,r,l,f,h,d,p)*v.factor}if((g=e.replace("%",""))!==e)return t(g,r,l,f,h,d,p)/100;var b=parseFloat(e);if(!isNaN(b)){var w=f(b);if(w&&"."!==w&&(g=e.replace(new RegExp("".concat(i(w),"$")),""))!==e)return t(g,r,l,f,h,d,p);var S={};Object.keys(d).forEach((function(t){S[d[t]]=t}));for(var x=Object.keys(S).sort().reverse(),E=x.length,O=0;O<E;O++){var _=x[O],N=S[_];if((g=e.replace(_,""))!==e){var A=void 0;switch(N){case"thousand":A=Math.pow(10,3);break;case"million":A=Math.pow(10,6);break;case"billion":A=Math.pow(10,9);break;case"trillion":A=Math.pow(10,12)}return t(g,r,l,f,h,d,p)*A}}}}(function(t,e,r){var n=2<arguments.length&&void 0!==r?r:"",a=t.replace(n,"");return(a=a.replace(new RegExp("([0-9])".concat(i(e.thousands),"([0-9])"),"g"),"$1$2")).replace(e.decimal,".")}(t,e,u),e,u,l,f,h,d)}e.exports={unformat:function(e,r){var n,i,o,s=t("./globalState"),c=s.currentDelimiters(),u=s.currentCurrency().symbol,l=s.currentOrdinal(),f=s.getZeroFormat(),h=s.currentAbbreviations(),d=void 0;if("string"==typeof e)d=function(t,e){if(t.indexOf(":")&&":"!==e.thousands){var r=t.split(":");if(3===r.length){var n=+r[0],i=+r[1],a=+r[2];return!isNaN(n)&&!isNaN(i)&&!isNaN(a)}}}(e,c)?(i=+(n=e.split(":"))[0],o=+n[1],+n[2]+60*o+3600*i):a(e,c,u,l,f,h,r);else{if("number"!=typeof e)return;d=e}if(void 0!==d)return d}}},{"./globalState":4}],10:[function(t,e,r){"use strict";function n(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=t("./unformatting"),o=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,s={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(t,e){return"byte"===e.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(t){return"byte"===t.output}},characteristic:{type:"number",restriction:function(t){return 0<=t},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",lowPrecision:{type:"boolean",restriction:function(t,e){return!0===e.average},message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(t){return 0<=t},message:"value must be positive"},{restriction:function(t,e){return!e.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(t){return 0<=t},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(t,e){return"percent"===e.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(t){return t.match(o)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function u(t){return void 0!==a.unformat(t)}function l(t,e,r,a){var o=3<arguments.length&&void 0!==a&&a,c=Object.keys(t).map((function(n){if(!e[n])return console.error("".concat(r," Invalid key: ").concat(n)),!1;var a=t[n],o=e[n];if("string"==typeof o&&(o={type:o}),"format"===o.type){if(!l(a,s,"[Validate ".concat(n,"]"),!0))return!1}else if(i(a)!==o.type)return console.error("".concat(r," ").concat(n,' type mismatched: "').concat(o.type,'" expected, "').concat(i(a),'" provided')),!1;if(o.restrictions&&o.restrictions.length)for(var c=o.restrictions.length,u=0;u<c;u++){var f=o.restrictions[u],h=f.restriction,d=f.message;if(!h(a,t))return console.error("".concat(r," ").concat(n," invalid value: ").concat(d)),!1}return o.restriction&&!o.restriction(a,t)?(console.error("".concat(r," ").concat(n," invalid value: ").concat(o.message)),!1):o.validValues&&-1===o.validValues.indexOf(a)?(console.error("".concat(r," ").concat(n," invalid value: must be among ").concat(JSON.stringify(o.validValues),', "').concat(a,'" provided')),!1):!(o.children&&!l(a,o.children,"[Validate ".concat(n,"]")))}));return o||c.push.apply(c,n(Object.keys(e).map((function(n){var i=e[n];if("string"==typeof i&&(i={type:i}),i.mandatory){var a=i.mandatory;if("function"==typeof a&&(a=a(t)),a&&void 0===t[n])return console.error("".concat(r,' Missing mandatory key "').concat(n,'"')),!1}return!0})))),c.reduce((function(t,e){return t&&e}),!0)}function f(t){return l(t,s,"[Validate format]")}e.exports={validate:function(t,e){var r=u(t),n=f(e);return r&&n},validateFormat:f,validateInput:u,validateLanguage:function(t){return l(t,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},8954:(t,e,r)=>{"use strict";r.d(e,{e:()=>s});var n=r(79239),i=r(20838),a=r(93663),o=r(62550);class s{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(t,e,r){return Promise.reject(new Error(".put is not implemented"))}get(t,e){return Promise.reject(new Error(".get is not implemented"))}has(t,e){return Promise.reject(new Error(".has is not implemented"))}delete(t,e){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{key:r,value:n}of t)await this.put(r,n,e),yield{key:r,value:n}}async*getMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of t)yield this.get(r,e)}async*deleteMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of t)await this.delete(r,e),yield r}batch(){let t=[],e=[];return{put(e,r){t.push({key:e,value:r})},delete(t){e.push(t)},commit:async r=>{await i(this.putMany(t,r)),t=[],await i(this.deleteMany(e,r)),e=[]}}}async*_all(t,e){throw new Error("._all is not implemented")}async*_allKeys(t,e){throw new Error("._allKeys is not implemented")}query(t,e){let r=this._all(t,e);if(null!=t.prefix&&(r=a(r,(e=>e.key.toString().startsWith(t.prefix)))),Array.isArray(t.filters)&&(r=t.filters.reduce(((t,e)=>a(t,e)),r)),Array.isArray(t.orders)&&(r=t.orders.reduce(((t,e)=>(0,n.W)(t,e)),r)),null!=t.offset){let e=0;r=a(r,(()=>e++>=t.offset))}return null!=t.limit&&(r=o(r,t.limit)),r}queryKeys(t,e){let r=this._allKeys(t,e);if(null!=t.prefix&&(r=a(r,(e=>e.toString().startsWith(t.prefix)))),Array.isArray(t.filters)&&(r=t.filters.reduce(((t,e)=>a(t,e)),r)),Array.isArray(t.orders)&&(r=t.orders.reduce(((t,e)=>(0,n.W)(t,e)),r)),null!=t.offset){let e=0;r=a(r,(()=>e++>=t.offset))}return null!=t.limit&&(r=o(r,t.limit)),r}}},66957:(t,e,r)=>{"use strict";r.r(e),r.d(e,{abortedError:()=>c,dbDeleteFailedError:()=>a,dbOpenFailedError:()=>i,dbWriteFailedError:()=>o,notFoundError:()=>s});var n=r(15504);function i(t){return t=t||new Error("Cannot open database"),n(t,"ERR_DB_OPEN_FAILED")}function a(t){return t=t||new Error("Delete failed"),n(t,"ERR_DB_DELETE_FAILED")}function o(t){return t=t||new Error("Write failed"),n(t,"ERR_DB_WRITE_FAILED")}function s(t){return t=t||new Error("Not Found"),n(t,"ERR_NOT_FOUND")}function c(t){return t=t||new Error("Aborted"),n(t,"ERR_ABORTED")}},13252:(t,e,r)=>{"use strict";r.d(e,{v:()=>o});var n=r(8954),i=r(60191),a=r(89962);class o extends n.e{constructor(t,e){super(),this.child=t,this.transform=e}open(){return this.child.open()}put(t,e,r){return this.child.put(this.transform.convert(t),e,r)}get(t,e){return this.child.get(this.transform.convert(t),e)}has(t,e){return this.child.has(this.transform.convert(t),e)}delete(t,e){return this.child.delete(this.transform.convert(t),e)}async*putMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.transform,n=this.child;yield*(0,a.pipe)(t,(async function*(t){yield*i(t,(t=>{let{key:e,value:n}=t;return{key:r.convert(e),value:n}}))}),(async function*(t){yield*n.putMany(t,e)}),(async function*(t){yield*i(t,(t=>{let{key:e,value:n}=t;return{key:r.invert(e),value:n}}))}))}async*getMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.transform,n=this.child;yield*(0,a.pipe)(t,(async function*(t){yield*i(t,(t=>r.convert(t)))}),(async function*(t){yield*n.getMany(t,e)}))}async*deleteMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.transform,n=this.child;yield*(0,a.pipe)(t,(async function*(t){yield*i(t,(t=>r.convert(t)))}),(async function*(t){yield*n.deleteMany(t,e)}),(async function*(t){yield*i(t,(t=>r.invert(t)))}))}batch(){const t=this.child.batch();return{put:(e,r)=>{t.put(this.transform.convert(e),r)},delete:e=>{t.delete(this.transform.convert(e))},commit:e=>t.commit(e)}}query(t,e){const r={...t};r.filters=(r.filters||[]).map((t=>e=>{let{key:r,value:n}=e;return t({key:this.transform.convert(r),value:n})}));const{prefix:n}=t;return null!=n&&"/"!==n&&(delete r.prefix,r.filters.push((t=>{let{key:e}=t;return this.transform.invert(e).toString().startsWith(n)}))),r.orders&&(r.orders=r.orders.map((t=>(e,r)=>t({key:this.transform.invert(e.key),value:e.value},{key:this.transform.invert(r.key),value:r.value})))),i(this.child.query(r,e),(t=>{let{key:e,value:r}=t;return{key:this.transform.invert(e),value:r}}))}queryKeys(t,e){const r={...t};r.filters=(r.filters||[]).map((t=>e=>t(this.transform.convert(e))));const{prefix:n}=t;return null!=n&&"/"!==n&&(delete r.prefix,r.filters.push((t=>this.transform.invert(t).toString().startsWith(n)))),r.orders&&(r.orders=r.orders.map((t=>(e,r)=>t(this.transform.invert(e),this.transform.invert(r))))),i(this.child.queryKeys(r,e),(t=>this.transform.invert(t)))}close(){return this.child.close()}}},51854:(t,e,r)=>{"use strict";r.r(e),r.d(e,{MemoryDatastore:()=>o});var n=r(8954),i=r(82149),a=r(66957);class o extends n.e{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(t,e){this.data[t.toString()]=e}async get(t){if(!await this.has(t))throw a.notFoundError();return this.data[t.toString()]}async has(t){return void 0!==this.data[t.toString()]}async delete(t){delete this.data[t.toString()]}async*_all(){yield*Object.entries(this.data).map((t=>{let[e,r]=t;return{key:new i.Key(e),value:r}}))}async*_allKeys(){yield*Object.entries(this.data).map((t=>{let[e]=t;return new i.Key(e)}))}}},11524:(t,e,r)=>{"use strict";r.d(e,{L:()=>u});var n=r(93663),i=r(62550),a=r(92393),o=r(8954),s=r(66957),c=r(79239);class u extends o.e{constructor(t){super(),this.mounts=t.slice()}async open(){await Promise.all(this.mounts.map((t=>t.datastore.open())))}_lookup(t){for(const e of this.mounts)if(e.prefix.toString()===t.toString()||e.prefix.isAncestorOf(t))return{datastore:e.datastore,mountpoint:e.prefix}}put(t,e,r){const n=this._lookup(t);if(null==n)throw s.dbWriteFailedError(new Error("No datastore mounted for this key"));return n.datastore.put(t,e,r)}get(t,e){const r=this._lookup(t);if(null==r)throw s.notFoundError(new Error("No datastore mounted for this key"));return r.datastore.get(t,e)}has(t,e){const r=this._lookup(t);return null==r?Promise.resolve(!1):r.datastore.has(t,e)}delete(t,e){const r=this._lookup(t);if(null==r)throw s.dbDeleteFailedError(new Error("No datastore mounted for this key"));return r.datastore.delete(t,e)}async close(){await Promise.all(this.mounts.map((t=>t.datastore.close())))}batch(){const t={},e=e=>{const r=this._lookup(e);if(null==r)throw new Error("No datastore mounted for this key");const n=r.mountpoint.toString();return null==t[n]&&(t[n]=r.datastore.batch()),{batch:t[n]}};return{put:(t,r)=>{e(t).batch.put(t,r)},delete:t=>{e(t).batch.delete(t)},commit:async e=>{await Promise.all(Object.keys(t).map((r=>t[r].commit(e))))}}}query(t,e){const r=this.mounts.map((r=>r.datastore.query({prefix:t.prefix,filters:t.filters},e)));let o=a(...r);if(t.filters&&t.filters.forEach((t=>{o=n(o,t)})),t.orders&&t.orders.forEach((t=>{o=(0,c.W)(o,t)})),null!=t.offset){let e=0;o=n(o,(()=>e++>=t.offset))}return null!=t.limit&&(o=i(o,t.limit)),o}queryKeys(t,e){const r=this.mounts.map((r=>r.datastore.queryKeys({prefix:t.prefix,filters:t.filters},e)));let o=a(...r);if(t.filters&&t.filters.forEach((t=>{o=n(o,t)})),t.orders&&t.orders.forEach((t=>{o=(0,c.W)(o,t)})),null!=t.offset){let e=0;o=n(o,(()=>e++>=t.offset))}return null!=t.limit&&(o=i(o,t.limit)),o}}},69611:(t,e,r)=>{"use strict";r.d(e,{v:()=>a});var n=r(22984),i=r(13252);class a extends i.v{constructor(t,e){super(t,{convert:t=>e.child(t),invert(t){if("/"===e.toString())return t;if(!e.isAncestorOf(t))throw new Error(`Expected prefix: (${e.toString()}) in key: ${t.toString()}`);return new n.s(t.toString().slice(e.toString().length),!1)}})}}},57712:(t,e,r)=>{"use strict";r.r(e),r.d(e,{NextToLast:()=>f,PREFIX:()=>a,Prefix:()=>u,README_FN:()=>s,SHARDING_FN:()=>o,ShardBase:()=>c,Suffix:()=>l,parseShardFun:()=>h,readShardFun:()=>d,readme:()=>i.Z});var n=r(82149),i=r(52352);const a="/repo/flatfs/shard/",o="SHARDING",s="_README";class c{constructor(t){this.param=t,this.name="base",this._padding=""}fun(t){return"implement me"}toString(){return`${a}v1/${this.name}/${this.param}`}}class u extends c{constructor(t){super(t),this._padding="".padStart(t,"_"),this.name="prefix"}fun(t){return(t+this._padding).slice(0,this.param)}}class l extends c{constructor(t){super(t),this._padding="".padStart(t,"_"),this.name="suffix"}fun(t){const e=this._padding+t;return e.slice(e.length-this.param)}}class f extends c{constructor(t){super(t),this._padding="".padStart(t+1,"_"),this.name="next-to-last"}fun(t){const e=this._padding+t,r=e.length-this.param-1;return e.slice(r,r+this.param)}}function h(t){if(0===(t=t.trim()).length)throw new Error("empty shard string");if(!t.startsWith(a))throw new Error(`invalid or no path prefix: ${t}`);const e=t.slice(a.length).split("/"),r=e[0];if("v1"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=e[1];if(!e[2])throw new Error("missing param");const i=parseInt(e[2],10);switch(n){case"prefix":return new u(i);case"suffix":return new l(i);case"next-to-last":return new f(i);default:throw new Error(`unkown sharding function: ${n}`)}}const d=async(t,e)=>{const r=new n.Key(t).child(new n.Key(o)),i="function"===typeof e.getRaw?e.getRaw.bind(e):e.get.bind(e),a=await i(r);return h((new TextDecoder).decode(a||"").trim())}},64661:(t,e,r)=>{"use strict";r.d(e,{G:()=>l});var n=r(22984),i=r(57712),a=r(8954),o=r(13252),s=r(66957);const c=new n.s(i.SHARDING_FN),u=new n.s(i.README_FN);class l extends a.e{constructor(t,e){super(),this.child=new o.v(t,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=e}async open(){await this.child.open(),this.shard=await l.create(this.child,this.shard)}_convertKey(t){const e=t.toString();if(e===c.toString()||e===u.toString())return t;return new n.s(this.shard.fun(e)).child(t)}_invertKey(t){const e=t.toString();return e===c.toString()||e===u.toString()?t:n.s.withNamespaces(t.list().slice(1))}static async createOrOpen(t,e){try{await l.create(t,e)}catch(r){if(r&&"datastore exists"!==r.message)throw r}return l.open(t)}static async open(t){const e=await(0,i.readShardFun)("/",t);return new l(t,e)}static async create(t,e){const r=await t.has(c);if(!r&&!e)throw s.dbOpenFailedError(Error("Shard is required when datastore doesn't have a shard key already."));if(!r){const r="function"===typeof t.putRaw?t.putRaw.bind(t):t.put.bind(t);return await Promise.all([r(c,(new TextEncoder).encode(e.toString()+"\n")),r(u,(new TextEncoder).encode(i.readme))]),e}const n=await(0,i.readShardFun)("/",t),a=(n||"").toString(),o=e.toString();if(a!==o)throw new Error(`specified fun ${o} does not match repo shard fun ${a}`);return n}put(t,e,r){return this.child.put(t,e,r)}get(t,e){return this.child.get(t,e)}has(t,e){return this.child.has(t,e)}delete(t,e){return this.child.delete(t,e)}async*putMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.putMany(t,e)}async*getMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.getMany(t,e)}async*deleteMany(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.deleteMany(t,e)}batch(){return this.child.batch()}query(t,e){const r={...t,filters:[t=>{let{key:e}=t;return e.toString()!==c.toString()},t=>{let{key:e}=t;return e.toString()!==u.toString()}].concat(t.filters||[])};return this.child.query(r,e)}queryKeys(t,e){const r={...t,filters:[t=>t.toString()!==c.toString(),t=>t.toString()!==u.toString()].concat(t.filters||[])};return this.child.queryKeys(r,e)}close(){return this.child.close()}}},97823:(t,e,r)=>{"use strict";r.d(e,{z:()=>u});var n=r(8954),i=r(66957),a=r(60720),o=r(31730),s=r(20838);const c=a("datastore:core:tiered");class u extends n.e{constructor(t){super(),this.stores=t.slice()}async open(){try{await Promise.all(this.stores.map((t=>t.open())))}catch(t){throw i.dbOpenFailedError()}}async put(t,e){try{await Promise.all(this.stores.map((r=>r.put(t,e))))}catch(r){throw i.dbWriteFailedError()}}async get(t,e){for(const n of this.stores)try{const r=await n.get(t,e);if(r)return r}catch(r){c(r)}throw i.notFoundError()}async has(t,e){for(const r of this.stores)if(await r.has(t,e))return!0;return!1}async delete(t,e){try{await Promise.all(this.stores.map((r=>r.delete(t,e))))}catch(r){throw i.dbDeleteFailedError()}}async*putMany(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.stores.map((t=>{const n=o();return s(t.putMany(n,r)).catch((t=>{e=t})),n}));try{for await(const r of t){if(e)throw e;n.forEach((t=>t.push(r))),yield r}}finally{n.forEach((t=>t.end()))}}async*deleteMany(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.stores.map((t=>{const n=o();return s(t.deleteMany(n,r)).catch((t=>{e=t})),n}));try{for await(const r of t){if(e)throw e;n.forEach((t=>t.push(r))),yield r}}finally{n.forEach((t=>t.end()))}}async close(){await Promise.all(this.stores.map((t=>t.close())))}batch(){const t=this.stores.map((t=>t.batch()));return{put:(e,r)=>{t.forEach((t=>t.put(e,r)))},delete:e=>{t.forEach((t=>t.delete(e)))},commit:async e=>{for(const r of t)await r.commit(e)}}}query(t,e){return this.stores[this.stores.length-1].query(t,e)}queryKeys(t,e){return this.stores[this.stores.length-1].queryKeys(t,e)}}},79239:(t,e,r)=>{"use strict";r.d(e,{W:()=>i});var n=r(21958);const i=(t,e)=>async function*(){const r=await n(t);yield*r.sort(e)}()},22984:(t,e,r)=>{"use strict";r.d(e,{s:()=>n.Key});var n=r(82149)},82149:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Key:()=>u});var n=r(99222),i=r(93314),a=r(68425);const o="/",s=(new TextEncoder).encode(o),c=s[0];class u{constructor(t,e){if("string"===typeof t)this._buf=(0,a.fromString)(t);else{if(!(t instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=t}if(null==e&&(e=!0),e&&this.clean(),0===this._buf.byteLength||this._buf[0]!==c)throw new Error("Invalid key")}toString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";return(0,i.toString)(this._buf,t)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(t){return new u(t.join(o))}static random(){return new u((0,n.nanoid)().replace(/-/g,""))}static asKey(t){return t instanceof Uint8Array||"string"===typeof t?new u(t):t.uint8Array?new u(t.uint8Array()):null}clean(){if(this._buf&&0!==this._buf.byteLength||(this._buf=s),this._buf[0]!==c){const t=new Uint8Array(this._buf.byteLength+1);t.fill(c,0,1),t.set(this._buf,1),this._buf=t}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===c;)this._buf=this._buf.subarray(0,-1)}less(t){const e=this.list(),r=t.list();for(let n=0;n<e.length;n++){if(r.length<n+1)return!1;const t=e[n],i=r[n];if(t<i)return!0;if(t>i)return!1}return e.length<r.length}reverse(){return u.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(o).slice(1)}type(){return function(t){const e=t.split(":");if(e.length<2)return"";return e.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(t){const e=t.split(":");return e[e.length-1]}(this.baseNamespace())}instance(t){return new u(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(o)||(t+=o),t+=this.type(),new u(t)}parent(){const t=this.list();return 1===t.length?new u(o):new u(t.slice(0,-1).join(o))}child(t){return this.toString()===o?t:t.toString()===o?this:new u(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()!==this.toString()&&t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()!==this.toString()&&this.toString().startsWith(t.toString())}isTopLevel(){return 1===this.list().length}concat(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return u.withNamespaces([...this.namespaces(),...(n=e.map((t=>t.namespaces())),[].concat(...n))]);var n}}},81564:(t,e,r)=>{"use strict";r.d(e,{b:()=>o});var n=r(80935),i=r(43019);const a=n.m.Entry;class o{constructor(t,e,r,n,i){this.entry=new a(t,e,r),this.cancel=Boolean(n),this.sendDontHave=Boolean(i)}get cid(){return this.entry.cid}set cid(t){this.entry.cid=t}get priority(){return this.entry.priority}set priority(t){this.entry.priority=t}get wantType(){return this.entry.wantType}set wantType(t){this.entry.wantType=t}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toString(i.base58btc)} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(t){return this.cancel===t.cancel&&this.sendDontHave===t.sendDontHave&&this.wantType===t.wantType&&this.entry.equals(t.entry)}}},7901:(t,e,r)=>{"use strict";r.d(e,{B:()=>o});var n=r(32743),i=r(15504);const a="/ipfs/";function o(t){if(t instanceof Uint8Array)try{t=n.CID.decode(t)}catch(s){throw i(s,"ERR_INVALID_CID")}let e=n.CID.asCID(t);if(e)return{cid:e,path:void 0};(t=t.toString()).startsWith(a)&&(t=t.substring(a.length));const r=t.split("/");let o;try{e=n.CID.parse(r.shift()||"")}catch(s){throw i(s,"ERR_INVALID_CID")}return r.length&&(o=`/${r.join("/")}`),{cid:e,path:o}}},17893:(t,e,r)=>{"use strict";r.r(e),r.d(e,{coerce:()=>s,empty:()=>n,equals:()=>o,fromHex:()=>a,fromString:()=>u,isBinary:()=>c,toHex:()=>i,toString:()=>l});const n=new Uint8Array(0),i=t=>t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),""),a=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map((t=>parseInt(t,16)))):n},o=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},s=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},c=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),u=t=>(new TextEncoder).encode(t),l=t=>(new TextDecoder).decode(t)}}]);
//# sourceMappingURL=990.c53cc053.chunk.js.map